# Automatically generated on 2020-12-04 UTC from https://codemagic.io/app/5fc915a8253cd452c283b883/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 120
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: ad5aed2c-a5e9-452d-aff1-9e64121b0b9c
        APP_STORE_CONNECT_KEY_IDENTIFIER: RRK5X6L954
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZ5ZUxkemhHSDJMM0lSdDQ5WVFhUTJzcWVSbWZ4Z2NzY1FlaHhtNjNTRXBiQzhFWEJJXy1iS2Q3eExWOXhwcnVFdFAxdXJFb0psR0Flcjl1a0VuWkV4blZpWlVoQ1BtbWhZdFFFbXh6T1pWTlFBc00wakh1dWw4MWFmNE4xZlFKb1BzOXgyalk4ek1jb3BLT2tJQjdQNy1ybVJ5cWF2aG9MVjQ1Q2pXQ29Jd3hQb2kybnUtcHVuVUpXVjBjVFJuMEFkX1diWmI5dVV6SEJoc25pbjVLZThNaW1Sbzd5cDVvR2xJckJFVmZDdk50N0UyYUFyTWxNNjByLTRhblQwaUtLQWRLQUtkX191VTR5UkN6UTJsMjJpWUx6dmlPTnExMUU2VDkwZkFIcHBMNW9vcFFQVkV2cWQ5dGMtaHRCQVdfRmJYdV9NemNvb1cxTDBqTHB2aU9fNlZWY3JCdlJDWThXdVluTzJySkxxeE5wbWtfdlNQZ2hSd3REdjBjS0kzR1JKWktENm04dm12VlMydV9pdHNuTThBU3E0d2lfNUwyWWtHd1o1a041MERpVGk3OD0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZ5ZUxkTW1HX29FWUZ2WUFHVFgzRTdxeWg4UG52T29wZkFmeEtTMHd3REJmN0hSbU5XVENhQWJxSUpoZmNiZ3NNYkgwLTNfOG8wdlVNSDQyeWRRR1hVUUF0T2Jyc2tPRUcwTFRTeEdzQXBqQm0tSU42RW1fX3l0RXU1aERxSzZGZUV6bDFIU01saUl0aUpOSjQ4RS1SVG45WDZNMm5sVWxrXzhvRTdZSVRYWU82RnhHMkwyRFNqX0VVWk5fRUFyZXBWVjVaU21ya0trc1NyYjlsYXZya01KU1VDaW5hYWtjOGhNck50MWRpUnZNVnFNbVB2QVpoTURLOEdLOTJrVUNJQTNCUzdFSHVtNFhfZUViRjNPWnh5bmtTU3ltYmV0emlnVHlHc19XZEpsOEV2U2o4alZRMGJqa0IxYzB2ZzNnYWNTbUtyUWhPNkVVT0tYNUtSRlN5MnlSN3d3TWV0bTVrVGw4Sm55M25JeVZfci11eFZrcU1XeHo5NlBRLXF5aWhRRjhIWHBuRVFHTmtfOWZ0WWV0UWs4WDFXRWN1b1F5SFlXMERUbC1RcUp6Y3FaWm5hOTB4ZTdkYWFFQlA4VHh2ZDBGcDVCTXV4UW1LRUg0UWl4ZnVWOGRDR2g1ZU1OZVZxTENYbWNJRGZmVXNGMTVPQmVOLW9aLUM1NUs0aE4zNEl3TEp4TlI1Z1hHSnFoaThwMzdxZkJRNUJWTW9HYXV1OFJKX3psMW5mc0lnUmJSWUVIQjFubUVwUjNKQmdFSzhjNm9pMzYyX1F6VzdMaldDUnVOXzB0d0h3dC1rRlp5REJXQTNMTTFJV0hsRFgwSmk3XzJjZ0cxcjBjMFdHQUEyZmdvLW1BMmNMaUw1a2c5Mmh1VmJSRGJidWlnRHpkblFCZWNtNEdKdklyMElZeGFvd2Nwc05WR0k2ejBIWGR4N3o5dU9uZDVxaVRoSjdVb0dROG5famdzTGRGai1VaF9XN2wzQ2g5UHBLRlZJSHE4eUhSZHdrbi1yVmY1aHVoZ0UySzlrRGpmU3Z3ZnJ4ejRiZVVMN204SGg4NEw5X1l5b0hsNWVrT1VXQ2xnYzNjcGlpUk94MjVwVGV0aUdDUnllTEhtN2gwVTh2a3hLdktzVVpiOXNNbmQyZU9udmZ4WFAxbTRHSjRoYlV0YUdQRmdYMUx1T2dVZ3pITlp2UWo4a0h3blB4aUdKRmZ2U1VQR1pHZThCcWdfTFJKYmdmUmZJRFEtelA2aFpORjVodk5VVm10LUJtNWN1SmVZd0F2ek5hdUk5SlM3b0d5TXBtRzlKUkpRc1B2ZWNuMGk4NE1oNzNkeEVYWW9Uc1dHSmJjQU5UR1VXNkNBUUJWUXFYbEtHNDdIWU9PWUlNLUxUMmp6MmpTX1ZHQWVlMzFsc1BzOXNQbG1wSUVaMmNFSUpFa1VMb0U4RVMwZER4elpXS0w4cG54MW1HMjItdTdWUm40MXUxUG1VeE5DZ2I1cDkxY3JidmwwN0h0RWhWM1MwVmczYVdoY3NSeUtzNzRmdV9vM2Z5THFySjJCaEF0RTB4cWRzOVROTkJ6ZEdFd2xCMjVNb0pZQ09udFZiUUdQRktreS1UNnBGYWE4UzJ2Mm1VdTd4QlM4R1l2S2pVaEkwZF9ORzhGaXRZbFVjZWlMc2lBbmVPR0VsMDByUU85ZnlsWS1NNFJMWW9pWjIzbTRoZVdEcEFVY19SeElraW5OTXhIamd0UkhxN2tWOWNlN3o3TDkzR1MyZUczOWJGMFhPMXNrMkNRN2ZFVzZQYjFmME9zWmJsbzJmUFpzUjFtOUVOaUFvbFh0dzZmWFFFTUxoUVAteFg1c3k0Y0I3aWJYWFRtTnQtMW9BY09RQnJqRkluLTY2a2dWeXlrY2U2NzRYMExPTmVGakV1S2RWSUMyZXAzNXg0bGFLcjRGTXhxdDRoTzBDSFIxYW9UNWJyelNzSVh0Y1pkOHRYWFVnRnBfdWRnR2R3TkItUTVmeWVXeWtZdGZCbmpZUmlTUTRZeWxkMDBXT3lyREVYWmp4YnpwTFd6S0Uyd3lPaTlWX2g2ZkZwdThLYWlrQXBhUllYbUl4d2w0TGFyMnZzZTBBQkJ6aFp2R1VtcjR6RkV0WFhMb1dCbUhUWmNfOXlfOU9UY2RHVUlfOWhYOEJ6TGdzMTJMRU5MZWpLU0EyX1YzQ2ttV2xZbXJXNk83aDNVZDN6T28xNWVFdmVOS18wWjc0UUNGeFJzdnJodk1ub19yV2J4eUk5eEd3N2RZaV9wdlRvdXo3dEJwaDhScHlQTzVxWmw1UEl1cFR3X25JVjRqbllBMHRvUjhfckVBaVBhdFRGcldZbkhRSkpidUQyMW0wQ1JZdVltQkduY19PWjJjOFFQMko4U3NWanBFYjBNZi10ZmhSVXQ4UHQ0NklvdWJSeHRRa0I3VWx5VE14aEFpaXRMOVh5WVZsX1d0OFFKQ1JNaDBjdFo1cmlxcFc4R3ZkblBReHJMZmlmVEpNMXE4Q19nbWxpR1h3TjhtM1V1NTh3VHczYmZGTUFTaEp4V0REdkFPaE4xSEFBS3dFSVQ1Q3JGT29kN25paXBkbmlpZVFQLXlNOGIyN1BMcWVmLWExVWtJYmpZUGxGUDVxalhrWkFXNWlBWGZPcGVHWGRCbXhzLW03VzcwTE03NXF3a0tfQmdneFhmV2luTUo1RXZCZXhBNGg5WlZ1THhTbGwzcnJxMFlhcWxSOEptZ0lkY3FVSV9PcEozdHVDaDhndXd1R0lFb1VBSDZhajlnT3E3U2FiV3hXY3hCb2gzY0tBWUE0R04tUnJsNW5ocjV4UjdoQTd4cTRwbE5OZnU3WE13UnpHUFdDeGc0cXd3TXNraHlUdGpyUERkdWVqUHZmQVBDbnFnOFBtaC03SzVzcFdSdkJyUzFfZHgzM2RrczlXOHVhSVhLV1A2WFgwdlQzMGpOWGQ1ajRuYVdGZk1faFFSLURmRjNLbmxrUHhINUItWERmMVN4MkszajhNeGJEWFdEQ2lhZjJZdHlqV0pXeGsyd1ZqU3hoQy16a21DaF9KU29nVS1CUjJ6YzJNSWZN)
      flutter: beta
      xcode: latest
      cocoapods: default
    cache:
      cache_paths:
        - $FLUTTER_ROOT/.pub-cache
    scripts:
      - cd . && flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "com.ivtsygankov.pilgrim"
        --type IOS_APP_STORE --create
      - keychain add-certificates
      - cd . && flutter build ios --release --no-codesign
      - xcode-project use-profiles
      - cd . && xcode-project build-ipa --workspace "ios/Runner.xcworkspace" --scheme
        "Runner"
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - 19200508did@gmail.com
      app_store_connect:
        apple_id: ivtsygankov@gmail.com
        password: Encrypted(Z0FBQUFBQmZ5ZWdhZ2RPci1UYjlpekg3amlWSG1FRXdGOVF0ZkRGZDlpWVowb1RRZHoxckNpdmRWbXdZUHZIT285LXNKZDF2aHRaRUNNN0VmM2lWcTZDNG1qV25YNGNPaW81S2YwUE1QVHlZT21kUEJ6NWNkX3c9)
